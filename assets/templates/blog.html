{% extends "_layout.html" %}

{%- import "_macros.html" as scope -%}

{% block output %}
    {% call scope::input("blog", false) %}

    <div class="my-6 group relative w-full max-w-xl">
        <div class="absolute inset-0 bg-cyan-500 -rotate-1"></div>
        <div class="absolute inset-0 bg-buffy-400 rotate-1"></div>

        {#<ul class="absolute left-full top-2 space-y-1">
            <li>
                <a href="{# route('blog.edit', featured_post) #}" title="Edit link" class="flex items-center justify-center h-10 w-10 bg-nosferatu-700 text-nosferatu-100 hover:bg-cyan-500 hover:text-white" data-turbo-stream>
                    <x-icons.pencil class="w-4 h-4" />
                </a>
            </li>
            <li>
                <form action="{# route('blog.unlink', featured_post) #}" method="DELETE">
                	{% call scope::csrf(app.csrf) %}

                    <button type="submit" data-form-target="submit" title="Unlink" class="flex items-center justify-center h-10 w-10 bg-nosferatu-700 text-nosferatu-100 hover:bg-rose-500 hover:text-white">
                        <x-icons.link-slash class="w-4 h-4" />
                    </button>
                </form>
            </li>
        </ul>#}

        <div class="relative bg-white text-nosferatu-600 p-6 space-y-3 z-10">
            <img src="{{ featured_post.image }}" class="w-full object-fill" />
            <div>
                <div class="flex items-center justify-between">
                    <a href="{{ featured_post.url }}?ref=johnfreeman.dev" target="_blank" class="group flex items-center space-x-2">
                        <span class="text-dracula-500 underline font-bold">{{ featured_post.title }}</span>
                        <x-icons.arrow-up-right-from-square class="inline-block text-nosferatu-400 fill-current w-3 h-3" />
                    </a>
                </div>
                <p class="text-nosferatu-400 text-xs">Published {{ featured_post.published_at }} on {{ featured_post.site }}</p>
            </div>
            <p class="text-nosferatu-700">{{ featured_post.excerpt }}</p>
            <ul class="text-xs w-full list-none flex flex-wrap items-center text-nosferatu-500">
                {% for tag in featured_post.tags.as_ref() %}
                    <li class="inline-flex items-center mr-2 mb-2">
                        <span class="inline-flex items-center h-7 px-2 bg-nosferatu-50/30">{{ tag }}</span>
                    </li>
                {% endfor %}
            </ul>
        </div>
    </div>

    {% for post in posts %}
        <div class="mt-4 group relative w-full max-w-xl bg-nosferatu/80">
            <div class="flex items-center justify-between">
                <a href="{{ post.url }}?ref=johnfreeman.dev" target="_blank" class="group flex items-center space-x-2">
                    <span class="text-dracula underline font-bold">{{ post.title }}</span>
                    <x-icons.arrow-up-right-from-square class="inline-block text-nosferatu-400 fill-current w-3 h-3" />
                </a>
            </div>
            <p class="text-nosferatu-200 line-clamp-1">{{ post.excerpt }}</p>
        </div>
    {% endfor %}

    <p class="mt-4 w-full max-w-xl text-sm text-nosferatu-500 bg-nosferatu/80">Read more over at <a href="https://www.eloquentarchitecture.com" target="_blank" class="text-nosferatu-500 underline">Eloquent Architecture</a><span class="text-marcelin">.</span></p>

  {% call scope::input_form(app.csrf) %}
{% endblock %}
